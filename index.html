<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dividend Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
      background: #f4f7fa;
      color: #333;
    }
    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #1a73e8;
    }
    .table-container {
      overflow-x: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      max-width: 1000px;
      margin: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th {
      background: #1a73e8;
      color: white;
      padding: 10px;
      font-weight: 600;
    }
    td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: center;
    }
    td:nth-child(1) {
      text-align: left;
    }
    input[type=number], input[type=date] {
      width: 90px;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    #totalDivContainer {
      text-align: right;
      margin: 20px auto 0;
      max-width: 1000px;
      font-weight: bold;
      font-size: 1.1em;
      color: #0b8043;
    }
  </style>
</head>
<body>

<h1>ðŸ“Š My Dividend Tracker</h1>

<div class="table-container">
  <table id="stockTable">
    <thead>
      <tr>
        <th>Company</th>
        <th>Ticker</th>
        <th>Shares</th>
        <th>Live Price</th>
        <th>Dividend / Share</th>
        <th>Total Dividend</th>
        <th>Annual Yield %</th>
        <th>Ex-Dividend</th>
        <th>Pay Date</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>United Parcel Service</td>
        <td>UPS</td>
        <td><input type="number" value="10" class="shares" /></td>
        <td><input type="number" value="175" class="price" /></td>
        <td><input type="number" value="1.64" class="dividend" /></td>
        <td class="totalDiv">$0.00</td>
        <td class="yield">0%</td>
        <td><input type="date" value="2025-05-19" /></td>
        <td><input type="date" value="2025-06-05" /></td>
      </tr>
      <!-- You can duplicate this row for more companies -->
    </tbody>
  </table>

  <div style="text-align: right; margin-top: 10px;">
  <button onclick="addRow()" style="padding: 10px 16px; background-color: #1a73e8; color: white; border: none; border-radius: 6px; cursor: pointer;">
    âž• Add New Company
  </button>
</div>

</div>

<div id="totalDivContainer">Total Dividend Income: $0.00</div>

<script>
function addRow() {
  const tbody = document.querySelector('#stockTable tbody');
  const newRow = document.createElement('tr');

  newRow.innerHTML = `
    <td><input type="text" placeholder="Company name" style="width: 150px;" /></td>
    <td><input type="text" placeholder="Ticker" style="width: 80px;" /></td>
    <td><input type="number" class="shares" value="0" /></td>
    <td><input type="number" class="price" step="0.01" value="0" /></td>
    <td><input type="number" class="dividend" step="0.001" value="0" /></td>
    <td class="totalDiv">$0.00</td>
    <td class="yield">0%</td>
    <td><input type="date" /></td>
    <td><input type="date" /></td>
  `;

  tbody.appendChild(newRow);

  // Add listeners to new inputs
  newRow.querySelectorAll('input').forEach(input =>
    input.addEventListener('input', updateTotals)
  );
}

  
function updateTotals() {
  const rows = document.querySelectorAll('#stockTable tbody tr');
  let grandTotal = 0;

  rows.forEach(row => {
    const shares = parseFloat(row.querySelector('.shares').value) || 0;
    const price = parseFloat(row.querySelector('.price').value) || 0;
    const dividend = parseFloat(row.querySelector('.dividend').value) || 0;

    const totalDiv = shares * dividend;
    grandTotal += totalDiv;

    row.querySelector('.totalDiv').textContent = `$${totalDiv.toFixed(2)}`;
    const yieldPct = price ? ((dividend * 4) / price) * 100 : 0;
    row.querySelector('.yield').textContent = `${yieldPct.toFixed(2)}%`;
  });

  document.getElementById('totalDivContainer').textContent =
    `Total Dividend Income: $${grandTotal.toFixed(2)}`;
}

window.onload = updateTotals;
document.querySelectorAll('#stockTable input').forEach(input =>
  input.addEventListener('input', updateTotals)
);
</script>

</body>
</html>
